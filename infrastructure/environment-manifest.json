{
  "version": 1,
  "modules": {
    "networking": {
      "path": "infrastructure/terraform/modules/networking",
      "hash": "8d3525ddbaa1dfc0e845331e05bc4c526bc9e3f352b64b497cdf1d14962650be"
    },
    "postgres": {
      "path": "infrastructure/terraform/modules/postgres",
      "hash": "6952575aae33fb87bc1ff4930e6f88c6f39985d1f36554bcaa23bb8401739600"
    },
    "backendService": {
      "path": "infrastructure/terraform/modules/backend_service",
      "hash": "7c5827dc2833b557edd7930bf54ea7098bea09d5987a147ba0b37a2bd6a2c0c9"
    }
  },
  "environments": {
    "dev": {
      "path": "infrastructure/terraform/envs/dev",
      "hash": "56535a2195ec5ef93d89b41b29b140d9b8e1ee18dedb87a91495507fde4b2c92",
      "descriptor": {
        "path": "infrastructure/environments/dev.json",
        "hash": "204b41157e69413d66acbc7677647f1216f93e3a89fe77c81a105fb9149268e7",
        "blueprintParameter": "/edulure/dev/api/environment-blueprint",
        "runtimeEndpoint": "https://dev.edulure.com/ops/runtime-blueprint.json"
      }
    },
    "staging": {
      "path": "infrastructure/terraform/envs/staging",
      "hash": "f789d17ebd2277197b928e96115c9a308c3f6a4b960565b6eb373c60a3751594",
      "descriptor": {
        "path": "infrastructure/environments/staging.json",
        "hash": "05382a3467d20fb8d57c598d61bc6e805dfed17a5badc62864e5c478ead4f302",
        "blueprintParameter": "/edulure/staging/api/environment-blueprint",
        "runtimeEndpoint": "https://staging.edulure.com/ops/runtime-blueprint.json"
      }
    },
    "prod": {
      "path": "infrastructure/terraform/envs/prod",
      "hash": "0fafb6a506216823f68602eb71a8a4021e5dd88cc24587a635c7265251a575be",
      "descriptor": {
        "path": "infrastructure/environments/prod.json",
        "hash": "7037fce56b6ddfc72da6a5403378122c99711fcc15e681752b3097141f82e851",
        "blueprintParameter": "/edulure/prod/api/environment-blueprint",
        "runtimeEndpoint": "https://edulure.com/ops/runtime-blueprint.json"
      }
    }
  },
  "docker": {
    "backend": {
      "path": "infrastructure/docker/Dockerfile.backend",
      "hash": "16a304e1e3cc2855b8bd7f0d1b2e8ed0187b1ce62611d17d781eb3d5fdeb4644"
    },
    "frontend": {
      "path": "infrastructure/docker/Dockerfile.frontend",
      "hash": "b3e4e10545359ce9246063c9f9069c0e235c580ed611600ec18f932273662d59"
    },
    "nginx": {
      "path": "infrastructure/docker/nginx.conf",
      "hash": "854c272a68d7ff46fd9de445cdd682475e059bb775eb291356275f791e84c24e"
    }
  },
  "scripts": {
    "bootstrap": {
      "path": "scripts/bootstrap-environment.sh",
      "hash": "3f648de762d6357f2faf579e8cec9fa29d2e98b1a70aa60454ca58d680a530e6"
    },
    "waitForDb": {
      "path": "backend-nodejs/scripts/wait-for-db.js",
      "hash": "1e1e7181c40444255266742da02d81b6b681e1d3fd0caa9f8d8ed5b757d877b8"
    }
  },
  "root": {
    "docker-compose.yml": {
      "path": "docker-compose.yml",
      "hash": "25ef5d1991ec9824da0eecdec5d105a114841b91dbbefe4e96dddb3f938153a7",
      "profiles": [
        "dev",
        "staging",
        "prod"
      ]
    }
  },
  "blueprints": {
    "backendService": {
      "path": "infrastructure/terraform/modules/backend_service/blueprint.tf",
      "hash": "6be3c60ffc9dcdf9624a376dc5da5fe74d535cfa94362916eac25859b2a5c381",
      "version": "2024.06",
      "service": "backend-service",
      "provider": "aws",
      "modulePath": "infrastructure/terraform/modules/backend_service",
      "moduleHash": "7c5827dc2833b557edd7930bf54ea7098bea09d5987a147ba0b37a2bd6a2c0c9",
      "observability": {
        "grafana": {
          "path": "infrastructure/observability/grafana/dashboards/environment-runtime.json",
          "hash": "ca765a54a76f9255d436ef3ffbbddf256fa8c13b5f7c9b0d3984ec810b04314a"
        },
        "documentation": "infrastructure/observability/README.md"
      },
      "alarmOutputs": [
        "cpu_alarm_name",
        "memory_alarm_name"
      ],
      "metadata": {
        "deploymentStrategy": "rolling",
        "registryTable": "environment_blueprints"
      },
      "registry": {
        "dev": {
          "environment": "dev",
          "provider": "aws",
          "serviceName": "backend-service",
          "version": "2024.06",
          "blueprintHash": "6be3c60ffc9dcdf9624a376dc5da5fe74d535cfa94362916eac25859b2a5c381",
          "moduleHash": "7c5827dc2833b557edd7930bf54ea7098bea09d5987a147ba0b37a2bd6a2c0c9",
          "ssmParameter": "/edulure/dev/api/environment-blueprint",
          "runtimeEndpoint": "https://dev.edulure.com/ops/runtime-blueprint.json",
          "observabilityDashboardPath": "infrastructure/observability/grafana/dashboards/environment-runtime.json",
          "observabilityDashboardHash": "ca765a54a76f9255d436ef3ffbbddf256fa8c13b5f7c9b0d3984ec810b04314a",
          "alarmOutputs": [
            "cpu_alarm_name",
            "memory_alarm_name"
          ],
          "metadata": {
            "tier": "nonprod",
            "notes": "Development environment blueprint published to SSM"
          }
        },
        "staging": {
          "environment": "staging",
          "provider": "aws",
          "serviceName": "backend-service",
          "version": "2024.06",
          "blueprintHash": "6be3c60ffc9dcdf9624a376dc5da5fe74d535cfa94362916eac25859b2a5c381",
          "moduleHash": "7c5827dc2833b557edd7930bf54ea7098bea09d5987a147ba0b37a2bd6a2c0c9",
          "ssmParameter": "/edulure/staging/api/environment-blueprint",
          "runtimeEndpoint": "https://staging.edulure.com/ops/runtime-blueprint.json",
          "observabilityDashboardPath": "infrastructure/observability/grafana/dashboards/environment-runtime.json",
          "observabilityDashboardHash": "ca765a54a76f9255d436ef3ffbbddf256fa8c13b5f7c9b0d3984ec810b04314a",
          "alarmOutputs": [
            "cpu_alarm_name",
            "memory_alarm_name"
          ],
          "metadata": {
            "tier": "preprod",
            "notes": "Staging blueprint validated via deployment pipeline"
          }
        },
        "prod": {
          "environment": "prod",
          "provider": "aws",
          "serviceName": "backend-service",
          "version": "2024.06",
          "blueprintHash": "6be3c60ffc9dcdf9624a376dc5da5fe74d535cfa94362916eac25859b2a5c381",
          "moduleHash": "7c5827dc2833b557edd7930bf54ea7098bea09d5987a147ba0b37a2bd6a2c0c9",
          "ssmParameter": "/edulure/prod/api/environment-blueprint",
          "runtimeEndpoint": "https://edulure.com/ops/runtime-blueprint.json",
          "observabilityDashboardPath": "infrastructure/observability/grafana/dashboards/environment-runtime.json",
          "observabilityDashboardHash": "ca765a54a76f9255d436ef3ffbbddf256fa8c13b5f7c9b0d3984ec810b04314a",
          "alarmOutputs": [
            "cpu_alarm_name",
            "memory_alarm_name"
          ],
          "metadata": {
            "tier": "production",
            "notes": "Production blueprint governs runtime provisioning"
          }
        }
      }
    }
  },
  "pipelines": {
    "deployment": {
      "script": "scripts/release/deployment-pipeline.mjs",
      "licenseManifest": "reports/licenses/pipeline-manifest.json",
      "readyCheck": "scripts/release/run-readiness.mjs",
      "blueprintRegistry": "environment_blueprints"
    }
  }
}
