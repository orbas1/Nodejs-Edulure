# Module Changes

- Introduced `CommunityMemberModel`, `DomainEventModel`, and `UserSessionModel` to encapsulate new tables and transactional workflows. `UserSessionModel` now exposes rotation-aware helpers (find/revoke/touch/prune), tracks `last_used_at`, `rotated_at`, `revoked_by`, and respects `deleted_at` filtering so API queries align with retention sweeps.
- Updated `UserModel` and `CommunityModel` to use Knex query builders, alias snake_case columns, and support transactional contexts.
- Added content pipeline repositories (`ContentAssetModel`, `AssetIngestionJobModel`, `AssetConversionOutputModel`, `ContentAssetEventModel`, `ContentAuditLogModel`, `EbookProgressModel`) with pagination helpers, lifecycle transitions, and analytics aggregations.
- Introduced ebook domain models (`EbookModel`, `EbookChapterModel`, `EbookHighlightModel`, `EbookBookmarkModel`, `EbookReaderSettingModel`, `EbookWatermarkEventModel`) with JSON serialisation, slug normalisation, bulk chapter replacement, highlight/bookmark quotas, reader preference upserts, and watermark auditing utilities consumed by `EbookService` and ingestion routines.
- Added `FeatureFlagModel`, `FeatureFlagAuditModel`, and `ConfigurationEntryModel` to hydrate the new governance tables with JSON parsing helpers used by the runtime configuration service.
- Added course domain models (`CourseModel`, `CourseModuleModel`, `CourseLessonModel`, `CourseAssignmentModel`, `CourseEnrollmentModel`, `CourseProgressModel`) with JSON serialisation helpers, ordering utilities, and aggregation helpers used by the course service.
- Added live learning domain models (`TutorProfileModel`, `TutorAvailabilitySlotModel`, `TutorBookingModel`, `LiveClassroomModel`, `LiveClassroomRegistrationModel`, `LiveClassroomChatSessionModel`) with timezone-aware scheduling helpers, seat counting scopes, cancellation safeguards, and audit metadata required by the tutor hire and live classroom services.
- Introduced community engagement repositories (`CommunityMemberPointModel`, `CommunityMemberPointTransactionModel`, `CommunityMemberStreakModel`, `CommunityEventModel`, `CommunityEventParticipantModel`, `CommunityEventReminderModel`) with JSON serialisation helpers, leaderboard aggregations, RSVP upserts, reminder lifecycle transitions, and transactional locking primitives consumed by the engagement service and reminder job.
- Added messaging models (`CommunityMessageModel`, `CommunityChannelMemberModel`, `CommunityMessageReactionModel`, `CommunityMessageModerationModel`, `DirectMessageThreadModel`, `DirectMessageParticipantModel`, `DirectMessageModel`, `UserPresenceSessionModel`) encapsulating JSON serialisation, membership upserts, reaction summaries, moderation auditing, DM thread reconciliation, and presence TTL management for the new messaging services and seeds.
- Added social graph repositories (`UserFollowModel`, `UserPrivacySettingModel`, `UserMuteModel`, `UserBlockModel`, `FollowRecommendationModel`, `SocialAuditLogModel`) delivering transactional upserts, JSON parsing, pagination helpers, mutual follower lookups, recommendation persistence, and audit logging primitives leveraged by `SocialGraphService` and the new seeds.
- Introduced `SavedSearchModel` to persist explorer saved searches with JSON serialisation for entity filters, global filters, and sort preferences plus last-used/pinned tracking used by the new explorer services and seeds.
