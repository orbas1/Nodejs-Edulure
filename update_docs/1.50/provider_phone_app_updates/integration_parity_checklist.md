# Provider Integration Parity Checklist

## Purpose
This checklist guides the provider mobile squad through validating that the upcoming Flutter shell can depend on the same integration fabric already running in production. Each line item references the live backend and admin experiences so product and engineering leaders can certify parity before enabling provider tenants.

## Integration Domains & Actions
| Domain | Provider Expectation | Implementation Evidence | Acceptance Tests |
| --- | --- | --- | --- |
| CRM synchronisation | Provider cohorts must surface HubSpot and Salesforce account insights with identical retry/backoff semantics as the learner estate. | The Integration Orchestrator streams HubSpot/Salesforce deltas via dedicated clients, persists runs/results, and exposes Prometheus counters for parity dashboards.【F:backend-nodejs/src/services/IntegrationOrchestratorService.js†L1-L476】【F:backend-nodejs/src/integrations/HubSpotClient.js†L1-L198】【F:backend-nodejs/src/integrations/SalesforceClient.js†L1-L214】 | Trigger `/api/v1/integrations/syncs` for a tenant seeded with provider data and verify run ledgers display matching success/error payloads in AdminIntegrations > Sync History.【F:frontend-reactjs/src/pages/dashboard/AdminIntegrations.jsx†L1-L356】 |
| Manual remediation | Provider operators must retry failed syncs and download reconciliation CSVs without web fallbacks. | Admin dashboard exposes manual retry buttons, mismatch drill-ins, and CSV export surfaces backed by the orchestrator service.【F:frontend-reactjs/src/pages/dashboard/AdminIntegrations.jsx†L120-L356】【F:backend-nodejs/src/services/IntegrationDashboardService.js†L1-L214】 | From provider persona, perform a retry and confirm the webhook outbox registers a new delivery linked to the sync run.【F:backend-nodejs/src/services/WebhookEventBusService.js†L1-L372】 |
| API key governance | Provider squads can register, rotate, disable, and delegate BYO API credentials directly from mobile without exposing raw secrets. | Vault-backed Integration API key service encrypts secrets, enforces rotation cadences, and tracks delegated invites; React admin workspace already exercises these flows.【F:backend-nodejs/src/services/IntegrationApiKeyService.js†L1-L316】【F:backend-nodejs/src/services/IntegrationApiKeyInviteService.js†L1-L356】【F:frontend-reactjs/src/pages/dashboard/AdminIntegrations.jsx†L358-L1510】 | Build provider mobile Storybook screens referencing the same API contract and confirm invite claims succeed via `/api/v1/integrations/invites/:token`. |
| Notification mesh | Provider alerts (campaign spend, moderation escalations, sync failures) must respect the same preference surfaces as learners across push, email, Slack, and SMS. | Flutter notification preference service persists Hive caches, registers FCM tokens, and dispatches Slack test payloads through the integration orchestrator.【F:Edulure-Flutter/lib/services/notification_preference_service.dart†L11-L792】【F:Edulure-Flutter/lib/services/push_notification_service.dart†L24-L155】 | Provider blueprint reuses the same preference APIs and ensures channel overrides exist for moderation/ads categories before launch. |
| Payment and webhook automation | Provider spend alerts and community payouts rely on webhook delivery with signed payloads and per-subscription circuit breakers. | Webhook event bus signs payloads, throttles retries, and records delivery history for audit parity.【F:backend-nodejs/src/services/WebhookEventBusService.js†L1-L372】【F:backend-nodejs/src/servers/workerService.js†L49-L166】 | Simulate failed deliveries for provider tenants and confirm the circuit breaker halts retries after threshold, surfacing alerts in provider notification matrix. |

## Operational Readiness Checklist
1. **Telemetry mapping** – Align provider mobile health screens to the same Prometheus metrics and sync run tables powering the admin dashboard so escalations route to operators instead of design QA debt.【F:backend-nodejs/src/models/IntegrationSyncRunModel.js†L1-L173】【F:frontend-reactjs/src/pages/dashboard/__tests__/AdminIntegrations.test.jsx†L1-L226】
2. **Capability gating** – Gate integration administration behind `integrations.manage` and `integrations.rotate` capabilities within the provider RBAC schema to avoid exposing tooling to instructors.【F:update_docs/1.50/provider_phone_app_updates/rbac_contracts.md†L1-L51】【F:Edulure-Flutter/lib/provider/runtime/provider_capability_bridge.dart†L1-L182】
3. **Offline resilience** – Cache last-known sync summaries and pending webhook deliveries locally so provider admins can queue manual retries offline and replay once connectivity returns, matching the learner settings architecture.【F:Edulure-Flutter/lib/services/notification_preference_service.dart†L362-L706】
4. **Incident escalation** – Ensure moderation, ads, and CRM incidents push to Slack channels defined in the preference centre with severity palettes that mirror the operator dashboard for shared on-call posture.【F:frontend-reactjs/src/pages/dashboard/AdminOperator.jsx†L19-L371】【F:Edulure-Flutter/lib/screens/settings_screen.dart†L200-L833】
5. **Documentation** – Publish parity notes in the provider change log and design plan so downstream squads inherit the checklist without rediscovery.

## Delivery Cadence
- **Sprint 1:** Wire provider mobile shells to the integration orchestrator endpoints, validate capability gating, and mirror sync status cards.
- **Sprint 2:** Implement BYO key, delegated invite, and notification preference UIs using the documented contracts.
- **Sprint 3:** Execute offline and failure drills (webhook breaker, CRM outage) with telemetry hooks feeding the provider operations dashboard.

Completion of this checklist should be recorded in the `Provider Phone App` milestone tracker before go-live.
