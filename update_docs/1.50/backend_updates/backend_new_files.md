# New Backend Files – Version 1.50

- `src/bootstrap/bootstrap.js` – shared bootstrap utilities for database and infrastructure services.【F:backend-nodejs/src/bootstrap/bootstrap.js†L1-L109】
- `src/observability/readiness.js` – readiness state tracker used by all modular services.【F:backend-nodejs/src/observability/readiness.js†L1-L72】
- `src/observability/probes.js` – express app factory for `/live` and `/ready` probe endpoints.【F:backend-nodejs/src/observability/probes.js†L1-L39】
- `src/servers/webServer.js`, `src/servers/workerService.js`, `src/servers/realtimeServer.js` – dedicated entrypoints orchestrating each service lifecycle.【F:backend-nodejs/src/servers/webServer.js†L1-L114】【F:backend-nodejs/src/servers/workerService.js†L1-L153】【F:backend-nodejs/src/servers/realtimeServer.js†L1-L141】
- `src/bin/web.js`, `src/bin/worker.js`, `src/bin/realtime.js` – CLI starters for the new services.【F:backend-nodejs/src/bin/web.js†L1-L10】【F:backend-nodejs/src/bin/worker.js†L1-L10】【F:backend-nodejs/src/bin/realtime.js†L1-L10】
- `test/readinessTracker.test.js` – Vitest coverage for the readiness tracker utility.【F:backend-nodejs/test/readinessTracker.test.js†L1-L33】
- `src/middleware/featureFlagGate.js` – request middleware enforcing feature-flag decisions and structured fallback responses for gated routes.【F:backend-nodejs/src/middleware/featureFlagGate.js†L1-L123】
- `src/middleware/routeErrorBoundary.js` – error boundary middleware that captures route failures and returns correlation-aware JSON payloads.【F:backend-nodejs/src/middleware/routeErrorBoundary.js†L1-L56】
- `src/routes/routeRegistry.js` – declarative registry describing API capabilities, feature flags, and base paths for versioned mounting.【F:backend-nodejs/src/routes/routeRegistry.js†L1-L51】
- `src/routes/registerApiRoutes.js` – versioned router loader applying feature gating, error boundaries, and legacy redirects for `/api/v1` traffic.【F:backend-nodejs/src/routes/registerApiRoutes.js†L1-L86】
- `test/routerLoader.test.js` – Vitest suite validating feature gating, redirects, and error boundary responses for the router loader.【F:backend-nodejs/test/routerLoader.test.js†L1-L68】
- `src/services/CapabilityManifestService.js` – aggregates readiness probes and feature flag evaluations into a capability manifest consumable by clients.【F:backend-nodejs/src/services/CapabilityManifestService.js†L1-L209】
- `src/services/DistributedRuntimeCache.js` – Redis-backed snapshot manager providing hydration, lock orchestration, and write-through persistence for feature flags and runtime configuration services.【F:backend-nodejs/src/services/DistributedRuntimeCache.js†L1-L129】
- `test/capabilityManifestService.test.js` – Vitest coverage for manifest construction, ensuring degraded services and disabled flags produce the expected availability signals.【F:backend-nodejs/test/capabilityManifestService.test.js†L1-L111】
- `src/config/redisClient.js` – shared Redis client factory with TLS support, throttled logging, and retry controls for distributed runtime caches.【F:backend-nodejs/src/config/redisClient.js†L1-L92】
- `sdk-typescript/` workspace providing the generated TypeScript SDK, including the OpenAPI generator script (`scripts/generate-sdk.mjs`), runtime configuration helper (`src/runtime/configure.ts`), and compiled distribution artifacts (`dist/index.js`).【F:sdk-typescript/scripts/generate-sdk.mjs†L1-L66】【F:sdk-typescript/src/runtime/configure.ts†L1-L83】【F:sdk-typescript/dist/index.js†L1-L15】
- `src/services/OperatorDashboardService.js` – aggregates manifest health, incidents, scam telemetry, and runbooks into the operator dashboard snapshot powering the admin command centre.【F:backend-nodejs/src/services/OperatorDashboardService.js†L1-L305】
- `src/models/SecurityIncidentModel.js` – normalises encrypted incident records with SLA metadata for operator dashboards and compliance reporting.【F:backend-nodejs/src/models/SecurityIncidentModel.js†L1-L91】
- `src/database/domains/compliance.js` – reusable compliance domain helper that provisions audit, consent, DSR, incident, and CDC tables with partitioning policies and retention metadata.【F:backend-nodejs/src/database/domains/compliance.js†L1-L449】
- `scripts/generate-erd.js` – CLI that connects to the database, introspects the compliance schema, and emits Graphviz ERDs for governance documentation packs.【F:backend-nodejs/scripts/generate-erd.js†L1-L140】
- `src/services/ChangeDataCaptureService.js` – CDC outbox abstraction that records governance events, handles retries, and normalises payload metadata for downstream ingestion.【F:backend-nodejs/src/services/ChangeDataCaptureService.js†L1-L111】
- `src/services/ComplianceService.js` – application service coordinating consent lifecycle management, DSR assignment/status updates, policy history, and CDC notifications.【F:backend-nodejs/src/services/ComplianceService.js†L1-L247】
- `src/controllers/ComplianceController.js` – Express controller translating compliance API requests into validated service calls with actor attribution and validation feedback.【F:backend-nodejs/src/controllers/ComplianceController.js†L1-L129】
- `src/routes/compliance.routes.js` – admin-gated router registering consent, DSR, and policy endpoints within the versioned API registry.【F:backend-nodejs/src/routes/compliance.routes.js†L1-L18】
- `test/changeDataCaptureService.test.js` – unit coverage for CDC outbox creation, retry handling, and metadata enrichment using a fake connection adapter.【F:backend-nodejs/test/changeDataCaptureService.test.js†L1-L108】
- `test/complianceHttpRoutes.test.js` – integration tests validating authentication, validation, and actor metadata across the compliance HTTP surface.【F:backend-nodejs/test/complianceHttpRoutes.test.js†L1-L138】
- `src/services/DataPartitionService.js` – partition governance engine that streams expired slices to object storage, records archive metadata, and drops MySQL partitions once evidence is captured.【F:backend-nodejs/src/services/DataPartitionService.js†L1-L347】
- `src/jobs/dataPartitionJob.js` – cron-driven job wrapper around the partition service with pause/resume safeguards and readiness integration.【F:backend-nodejs/src/jobs/dataPartitionJob.js†L1-L154】
- `migrations/20250212121500_partition_archiving.js` – applies partition archive schema upgrades and metadata seeding for existing environments.【F:backend-nodejs/migrations/20250212121500_partition_archiving.js†L1-L15】
- `scripts/manage-data-partitions.js` – CLI utility to run partition rotation in dry-run or commit mode with verbose reporting for operators.【F:backend-nodejs/scripts/manage-data-partitions.js†L1-L67】
- `test/dataPartitionService.test.js` – Vitest coverage validating archive planning, dry-run handling, and manual approval safeguards for the partition service.【F:backend-nodejs/test/dataPartitionService.test.js†L1-L111】
- `migrations/20250213143000_creation_studio.js` – provisions creation projects, collaborators, templates, sessions, and version tables supporting the creation studio domain.【F:backend-nodejs/migrations/20250213143000_creation_studio.js†L1-L141】
- `src/models/CreationProjectModel.js`, `CreationProjectCollaboratorModel.js`, `CreationTemplateModel.js`, `CreationCollaborationSessionModel.js` – data models powering the creation studio domain with JSON serialisation helpers and RBAC-aware lookups.【F:backend-nodejs/src/models/CreationProjectModel.js†L1-L222】【F:backend-nodejs/src/models/CreationProjectCollaboratorModel.js†L1-L99】【F:backend-nodejs/src/models/CreationTemplateModel.js†L1-L123】【F:backend-nodejs/src/models/CreationCollaborationSessionModel.js†L1-L121】
- `src/services/CreationStudioService.js` – orchestrates project lifecycle management, collaborator governance, session heartbeats, and ad promotion flows for the creation studio capability.【F:backend-nodejs/src/services/CreationStudioService.js†L1-L823】
- `src/services/CreationAnalyticsService.js` – aggregates project, engagement, ads, ranking, and scam telemetry into instructor-ready analytics snapshots with RBAC-aware scope resolution.【F:backend-nodejs/src/services/CreationAnalyticsService.js†L1-L252】
- `src/controllers/CreationStudioController.js` – request layer wiring validation and RBAC context into the creation studio service before emitting structured responses.【F:backend-nodejs/src/controllers/CreationStudioController.js†L1-L392】
- `src/routes/creation.routes.js` – registers `/api/v1/creation` endpoints in the router registry with auth guards for project, template, session, and campaign APIs.【F:backend-nodejs/src/routes/creation.routes.js†L1-L34】
- `test/creationStudioService.test.js` – Vitest coverage validating templating, status transitions, and campaign promotion guards for the creation studio service.【F:backend-nodejs/test/creationStudioService.test.js†L1-L164】
- `migrations/20250215120000_community_moderation_pipeline.js` – provisions moderation state columns, case/action tables, scam reports, and analytics event storage for the safety pipeline.【F:backend-nodejs/migrations/20250215120000_community_moderation_pipeline.js†L1-L197】
- `src/models/CommunityPostModerationCaseModel.js`, `CommunityPostModerationActionModel.js`, `ScamReportModel.js`, `ModerationAnalyticsEventModel.js` – persistence layers for moderation cases, action logs, scam reports, and analytics events powering the new safety workflows.【F:backend-nodejs/src/models/CommunityPostModerationCaseModel.js†L1-L317】【F:backend-nodejs/src/models/CommunityPostModerationActionModel.js†L1-L67】【F:backend-nodejs/src/models/ScamReportModel.js†L1-L223】【F:backend-nodejs/src/models/ModerationAnalyticsEventModel.js†L1-L103】
- `src/services/CommunityModerationService.js` – coordinates moderation queue operations, scam reporting, and analytics logging with RBAC and domain event hooks.【F:backend-nodejs/src/services/CommunityModerationService.js†L1-L676】
- `src/controllers/CommunityModerationController.js` – Express layer validating moderation case actions, scam reports, and analytics summary requests.【F:backend-nodejs/src/controllers/CommunityModerationController.js†L1-L342】
- `src/routes/communityModeration.routes.js` – mounts `/api/v1/moderation` routes in the registry with auth guards and capability metadata.【F:backend-nodejs/src/routes/communityModeration.routes.js†L1-L45】
- `test/communityModerationService.test.js` – Vitest coverage for moderation case creation, action handling, and analytics summarisation to keep the pipeline regression safe.【F:backend-nodejs/test/communityModerationService.test.js†L1-L287】

- `migrations/20250220103000_crm_integration_infrastructure.js` – creates sync run/result/reconciliation tables powering the CRM orchestrator evidence trail.【F:backend-nodejs/migrations/20250220103000_crm_integration_infrastructure.js†L1-L78】
- `src/models/IntegrationSyncRunModel.js`, `IntegrationSyncResultModel.js`, `IntegrationReconciliationReportModel.js` – persist  integration run metadata, per-record results, and reconciliation reports for enterprise-grade observability.【F:backend-nodejs/src/models/IntegrationSyncRunModel.js†L1-L173】【F:backend-nodejs/src/models/IntegrationSyncResultModel.js†L1-L103】【F:backend-nodejs/src/models/IntegrationReconciliationReportModel.js†L1-L84】
- `src/integrations/HubSpotClient.js`, `src/integrations/SalesforceClient.js` – typed API adapters managing retries, rate limits, and payload normalisation for CRM syncs.【F:backend-nodejs/src/integrations/HubSpotClient.js†L1-L198】【F:backend-nodejs/src/integrations/SalesforceClient.js†L1-L214】
- `src/services/IntegrationOrchestratorService.js` – schedules CRM syncs, emits metrics, records runs, and triggers reconciliation workflows consumed by upcoming admin UI.【F:backend-nodejs/src/services/IntegrationOrchestratorService.js†L1-L476】
- `test/integrationOrchestratorService.test.js` – Vitest coverage validating HubSpot sync orchestration with mocked dependencies to keep retry/reporting behaviour regression-safe.【F:backend-nodejs/test/integrationOrchestratorService.test.js†L1-L92】
- `src/services/IntegrationDashboardService.js` – aggregates CRM run telemetry, reconciliation reports, and failure evidence for the admin integrations dashboard and operator overview surfaces.【F:backend-nodejs/src/services/IntegrationDashboardService.js†L1-L214】
- `src/services/IntegrationStatusService.js` – consolidates integration status snapshots, status events, API key alias resolution, and external call audits for CRM telemetry surfaces.【F:backend-nodejs/src/services/IntegrationStatusService.js†L1-L221】
- `src/models/IntegrationStatusModel.js`, `IntegrationStatusEventModel.js`, `IntegrationExternalCallAuditModel.js` – data mappers for integration health snapshots, status history, and external call audits with JSON serialisation helpers.【F:backend-nodejs/src/models/IntegrationStatusModel.js†L1-L130】【F:backend-nodejs/src/models/IntegrationStatusEventModel.js†L1-L105】【F:backend-nodejs/src/models/IntegrationExternalCallAuditModel.js†L1-L115】
- `migrations/20250228123000_integration_status_and_audits.js` – provisions integration status, event, and call audit tables with sync-run and API key references for observability reporting.【F:backend-nodejs/migrations/20250228123000_integration_status_and_audits.js†L1-L83】
- `src/controllers/AdminIntegrationsController.js` – exposes integration dashboard and manual sync endpoints for RBAC-protected admin automation tooling.【F:backend-nodejs/src/controllers/AdminIntegrationsController.js†L1-L45】
- `migrations/20250225133000_integration_api_keys.js` – provisions encrypted BYO credential storage with rotation cadence indexes and audit metadata for admin secret governance.【F:backend-nodejs/migrations/20250225133000_integration_api_keys.js†L1-L35】
- `src/models/IntegrationApiKeyModel.js` – persistence layer mapping BYO credential rows, rotation timestamps, and metadata blobs for dashboard consumption.【F:backend-nodejs/src/models/IntegrationApiKeyModel.js†L1-L140】
- `src/services/IntegrationApiKeyService.js` – encrypts and stores BYO secrets, enforces uniqueness, tracks rotation history, and exposes disable workflows for admin tooling.【F:backend-nodejs/src/services/IntegrationApiKeyService.js†L1-L316】
- `test/integrationApiKeyService.test.js` – Vitest coverage validating create, rotate, disable, list, and validation guards for the integration API key service.【F:backend-nodejs/test/integrationApiKeyService.test.js†L1-L209】
- `migrations/20250226100000_integration_api_key_invites.js` – persists secure invite tokens, rotation metadata, and audit timestamps backing delegated credential collection.【F:backend-nodejs/migrations/20250226100000_integration_api_key_invites.js†L1-L122】
- `src/models/IntegrationApiKeyInviteModel.js` – provides invite persistence helpers, token hashing, and filter queries for pending/active credential invitations.【F:backend-nodejs/src/models/IntegrationApiKeyInviteModel.js†L1-L151】
- `src/services/IntegrationApiKeyInviteService.js` – orchestrates invite issuance, resend/cancel flows, delegated fulfilment, and claim URL construction for BYO credential onboarding.【F:backend-nodejs/src/services/IntegrationApiKeyInviteService.js†L1-L356】
- `src/controllers/IntegrationKeyInviteController.js` – public controller exposing invite lookup and submission endpoints for external credential owners.【F:backend-nodejs/src/controllers/IntegrationKeyInviteController.js†L1-L63】
- `src/routes/integrationInvite.routes.js` – unauthenticated route mounting invite verification and credential submission handlers within the API registry.【F:backend-nodejs/src/routes/integrationInvite.routes.js†L1-L9】
- `test/integrationApiKeyInviteService.test.js` – Vitest coverage for invite creation, resend, cancellation, and fulfilment including rotation flows.【F:backend-nodejs/test/integrationApiKeyInviteService.test.js†L1-L252】
