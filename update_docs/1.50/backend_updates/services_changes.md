# Services Changes – Version 1.50

- Asset ingestion, data retention, and community reminder jobs now run inside the dedicated worker process, allowing deployments to scale or restart job schedulers without impacting the public web API.【F:backend-nodejs/src/servers/workerService.js†L39-L108】
- Realtime socket gateway runs as an isolated deployment that exposes `/live`, `/ready`, and `/health` probes while reusing the shared infrastructure bootstrap for feature flags and search, ensuring outages do not cascade into the web API process.【F:backend-nodejs/src/servers/realtimeServer.js†L15-L104】
- Feature flag and runtime configuration services now consume a shared Redis-backed distributed cache with hydration, lock orchestration, and graceful degradation so horizontally scaled web, worker, and realtime deployments evaluate rollout state consistently.【F:backend-nodejs/src/services/FeatureFlagService.js†L1-L520】【F:backend-nodejs/src/services/DistributedRuntimeCache.js†L1-L129】
- Capability manifest service now records missing dependency probes in diagnostic metadata while treating them as operational for availability scoring, preventing optional services from forcing outage state in lower environments and enabling clearer tooling logs.【F:backend-nodejs/src/services/CapabilityManifestService.js†L137-L214】【F:backend-nodejs/test/capabilityManifestService.test.js†L113-L149】
- Dashboard service now instantiates the operator dashboard aggregator, combining capability manifest health, security incidents, scam analytics, and runbook metadata into the admin payload consumed by the React command centre.【F:backend-nodejs/src/services/DashboardService.js†L826-L899】【F:backend-nodejs/src/services/OperatorDashboardService.js†L1-L305】
- Compliance service orchestrates consent lifecycle operations, DSR queue handling, policy timelines, and CDC notifications while reusing the domain schema metadata so controllers expose governance-ready responses with actor attribution and audit hooks.【F:backend-nodejs/src/services/ComplianceService.js†L1-L247】【F:backend-nodejs/src/controllers/ComplianceController.js†L1-L129】【F:backend-nodejs/src/services/ChangeDataCaptureService.js†L1-L111】
- Data partition governance adds a dedicated service and worker job that read `data_partition_policies`, stream aged partitions to R2 as NDJSON, log archives, and drop slices once evidence is captured, giving operators a CLI and scheduler to enforce retention windows without manual SQL.【F:backend-nodejs/src/services/DataPartitionService.js†L1-L347】【F:backend-nodejs/src/jobs/dataPartitionJob.js†L1-L154】【F:backend-nodejs/scripts/manage-data-partitions.js†L1-L67】
- New `CreationStudioService` governs project authoring, collaborator permissions, session lifecycle heartbeats, and campaign promotion helpers so instructors can safely co-create and monetise assets without bypassing governance policies; the service seeds type-specific metadata skeletons and analytics defaults for courses, e-books, communities, and ad assets to keep downstream workflows consistent.【F:backend-nodejs/src/services/CreationStudioService.js†L1-L810】
- Added `WebhookEventBusService` with subscription registry access, payload signing, circuit breaker evaluation, exponential retry orchestration, and stuck-delivery recovery so background workers can reliably dispatch partner notifications while exposing health metrics and audit logs for operators.【F:backend-nodejs/src/services/WebhookEventBusService.js†L1-L372】【F:backend-nodejs/src/models/IntegrationWebhookSubscriptionModel.js†L1-L124】【F:backend-nodejs/src/models/IntegrationWebhookDeliveryModel.js†L1-L206】【F:backend-nodejs/test/webhookEventBusService.test.js†L1-L137】【F:backend-nodejs/test/paymentService.test.js†L1-L720】
- Introduced `IntegrationDashboardService` to assemble CRM sync telemetry, reconciliation reports, and failure evidence into a consumable snapshot powering the admin integration workspace and operator dashboards.【F:backend-nodejs/src/services/IntegrationDashboardService.js†L1-L214】
- Added `IntegrationApiKeyService` to encrypt tenant BYO credentials, enforce provider/environment uniqueness, calculate rotation cadences, maintain rotation history, and expose disable workflows so admin tooling can manage secrets without exposing raw keys.【F:backend-nodejs/src/services/IntegrationApiKeyService.js†L1-L316】【F:backend-nodejs/src/models/IntegrationApiKeyModel.js†L1-L140】【F:backend-nodejs/test/integrationApiKeyService.test.js†L1-L209】
- Introduced `IntegrationApiKeyInviteService` to generate signed claim links, email invite owners, guard against duplicate alias requests, and fulfil invites by either creating or rotating encrypted credentials within a single transaction while writing audit metadata.【F:backend-nodejs/src/services/IntegrationApiKeyInviteService.js†L1-L356】【F:backend-nodejs/test/integrationApiKeyInviteService.test.js†L1-L252】
- Operator dashboard service now consumes the integration snapshot to expose connector health metrics, manual retry visibility, and search index entries alongside incident telemetry, keeping the admin overview aligned with CRM automation status.【F:backend-nodejs/src/services/OperatorDashboardService.js†L1-L212】
- `CreationAnalyticsService` aggregates instructor project metrics, engagement, ads performance, ranking signals, and scam alerts with RBAC enforcement and date-range filtering so `/api/v1/creation/analytics/summary` can deliver actionable intelligence without bespoke SQL per controller.【F:backend-nodejs/src/services/CreationAnalyticsService.js†L1-L252】
- `CommunityModerationService` now orchestrates moderation cases, scam reporting, and telemetry logging so operators can triage flagged content, audit actions, and surface analytics via the dedicated moderation API without bespoke tooling.【F:backend-nodejs/src/services/CommunityModerationService.js†L1-L676】【F:backend-nodejs/src/models/CommunityPostModerationCaseModel.js†L1-L317】【F:backend-nodejs/src/models/ScamReportModel.js†L1-L223】

- Introduced `IntegrationOrchestratorService` with dedicated HubSpot and Salesforce clients, sync log models, and worker scheduler hooks so CRM connectors run with retry-aware telemetry, reconciliation reports, and Prometheus metrics backing the new enterprise integration commitments.【F:backend-nodejs/src/services/IntegrationOrchestratorService.js†L1-L476】【F:backend-nodejs/src/integrations/HubSpotClient.js†L1-L198】【F:backend-nodejs/src/integrations/SalesforceClient.js†L1-L214】【F:backend-nodejs/src/servers/workerService.js†L1-L173】
- Added `IntegrationStatusService` to upsert connector health snapshots, write status events, resolve API key aliases, and persist external call audits so the dashboard and observability stack can expose per-environment CRM health without bespoke queries; HubSpot/Salesforce clients now emit audit entries on every request and orchestrator runs publish completion metrics into the service.【F:backend-nodejs/src/services/IntegrationStatusService.js†L1-L221】【F:backend-nodejs/src/models/IntegrationExternalCallAuditModel.js†L1-L115】【F:backend-nodejs/src/integrations/HubSpotClient.js†L1-L198】【F:backend-nodejs/src/integrations/SalesforceClient.js†L1-L214】【F:backend-nodejs/src/services/IntegrationOrchestratorService.js†L1-L1128】
