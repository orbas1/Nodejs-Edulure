# User App Evaluation – Version 1.50

## Functionality
- **Bootstrap orchestrates every subsystem serially.** `AppBootstrap` initialises Hive caches, secure storage, language preferences, telemetry, push notifications, and feature flags before rendering. Any failure aborts startup, lengthening cold boot times and creating a single point of failure for mobile launches.【F:Edulure-Flutter/lib/bootstrap/app_bootstrap.dart†L16-L44】
- **Route map mirrors the entire web surface.** `main.dart` registers learner, instructor, community, content, tutoring, blog, and services routes under one `MaterialApp`. Feature flags only toggle a few screens (service suite), so unused experiences still inflate navigation complexity and maintenance overhead.【F:Edulure-Flutter/lib/main.dart†L23-L94】
- **SessionManager conflates stateful concerns.** The manager handles Hive caching, secure token persistence, dashboard snapshots, and offline downloads in one static class. There is no modular separation for storage backends or per-tenant namespaces, complicating upgrades and cache migrations.【F:Edulure-Flutter/lib/services/session_manager.dart†L6-L138】
- **Language service delivers breadth but not depth.** Ten locales are defined with RTL support, yet translation tables focus on navigation and hero copy. Core workflows (tutor bookings, dashboards) rely on hard-coded English strings, limiting functional localisation.【F:Edulure-Flutter/lib/services/language_service.dart†L21-L190】
- **Feature flag plumbing is binary.** The Riverpod notifier exposes only boolean maps, so gradual rollouts or variant selection (A/B) cannot be represented without additional schema changes. Mobile teams must hardcode experiments, hampering parity with backend capabilities.【F:Edulure-Flutter/lib/core/feature_flags/feature_flag_notifier.dart†L12-L38】

## Usability
- **Persona switching is opaque.** SessionManager stores an `active_role`, but there is no UI to swap personas or purge cached dashboards. Power users cannot easily test instructor vs learner flows without clearing app data manually.【F:Edulure-Flutter/lib/services/session_manager.dart†L40-L138】
- **Feature flag refresh lacks feedback.** Riverpod notifiers transition through `AsyncLoading`, yet the UI does not surface loading or failure states. Screens may flicker or remain hidden without explanation, eroding trust in staged rollouts.【F:Edulure-Flutter/lib/core/feature_flags/feature_flag_notifier.dart†L12-L38】
- **Language selection is limited to top-level content.** While ValueListenable updates locale changes instantly, deeper screens remain untranslated, creating a disjointed experience for international learners.【F:Edulure-Flutter/lib/services/language_service.dart†L21-L190】【F:Edulure-Flutter/lib/screens/learner_dashboard_screen.dart†L1-L160】
- **Notification permission prompts lack context.** Push notifications request broad permissions (alert, badge, sound, announcement) on first launch without in-app education, which can drive high denial rates or app store rejection feedback.【F:Edulure-Flutter/lib/services/push_notification_service.dart†L21-L80】
- **UI theme is fixed.** `MaterialApp` uses a single colour scheme from `ColorScheme.fromSeed` with no tenant or dark mode support, forcing enterprises to fork the app for branding requirements.【F:Edulure-Flutter/lib/main.dart†L60-L88】

## Errors
- **Startup failures bubble to crashes.** If Hive boxes cannot open or secure storage throws, `SessionManager.init()` raises and the bootstrap aborts; there is no retry or safe mode to let the app load with limited functionality.【F:Edulure-Flutter/lib/services/session_manager.dart†L21-L138】【F:Edulure-Flutter/lib/bootstrap/app_bootstrap.dart†L28-L34】
- **Push notification errors are silently logged.** Initialisation catches Firebase issues and logs via `debugPrint`, but the app never informs users or operators that push is unavailable, making troubleshooting production issues difficult.【F:Edulure-Flutter/lib/services/push_notification_service.dart†L30-L143】
- **Feature flag fetch failures degrade UX quietly.** Async errors set the notifier state to `AsyncError`, yet no UI listens for this state, so users simply miss features with no diagnostic breadcrumbs.【F:Edulure-Flutter/lib/core/feature_flags/feature_flag_notifier.dart†L19-L38】
- **Lack of structured error reporting.** Although telemetry hooks exist, there is no centralised error boundary or panic dialog. Flutter exceptions during navigation or route building will crash the app instead of presenting a recovery prompt.【F:Edulure-Flutter/lib/bootstrap/app_bootstrap.dart†L36-L44】
- **Offline storage corruption leads to silent data loss.** SessionManager swallows JSON parse errors when reading Hive caches, resetting to defaults without notifying the user that data was discarded.【F:Edulure-Flutter/lib/services/session_manager.dart†L74-L138】

## Integration
- **Deep Firebase coupling without fallbacks.** Push notifications assume Firebase is configured for every build; missing credentials result in logs but no conditional disabling. Enterprises with strict data residency may reject Firebase, yet there is no alternative messaging provider or stub mode.【F:Edulure-Flutter/lib/services/push_notification_service.dart†L30-L143】
- **Feature flags depend on backend availability.** The notifier fetches remote flags via Dio but caches only in memory; offline launches fall back to stale defaults without expiry, risking inconsistent behaviour across sessions.【F:Edulure-Flutter/lib/core/feature_flags/feature_flag_notifier.dart†L12-L38】
- **Telemetry and session storage mix concerns.** Telemetry observers and session caches live in the same bootstrap container, so disabling telemetry for privacy reviews requires editing bootstrap code rather than toggling a config flag.【F:Edulure-Flutter/lib/bootstrap/app_bootstrap.dart†L16-L44】
- **Local asset downloads lack governance.** SessionManager exposes caches for content assets and downloads but provides no retention policy or disk space monitoring, risking uncontrolled growth on learner devices.【F:Edulure-Flutter/lib/services/session_manager.dart†L6-L138】
- **External route names leak roadmap features.** Routes for instructor dashboards, service suites, and course purchasing are registered even when disabled, allowing curious users to discover future releases through deep links.【F:Edulure-Flutter/lib/main.dart†L30-L94】

## Security
- **Secure storage only protects tokens.** While access/refresh tokens use `SecureStorageService`, profile and dashboard data remain in Hive boxes without encryption. Device compromise exposes personal information even after logout.【F:Edulure-Flutter/lib/services/session_manager.dart†L40-L138】
- **Logout leaves residual data.** `clear()` removes session tokens and dashboard caches but leaves other Hive stores (content assets, downloads, ebook progress) intact, potentially leaking sensitive course material to other device users.【F:Edulure-Flutter/lib/services/session_manager.dart†L114-L138】
- **Push permissions request extensive scopes.** Requesting announcements by default may violate enterprise mobile policies; there is no configuration to limit scopes by tenant or regulatory requirement.【F:Edulure-Flutter/lib/services/push_notification_service.dart†L58-L112】
- **Feature flag gating is client-side only.** Routes are hidden based on flag values, yet nothing prevents users from deep-linking to gated screens or invoking APIs directly. High-risk betas require server-enforced gates to prevent data exposure.【F:Edulure-Flutter/lib/main.dart†L47-L94】
- **Telemetry defaults to opt-out.** Sentry initialises during bootstrap without consent prompts, conflicting with privacy expectations for regulated industries.【F:Edulure-Flutter/lib/bootstrap/app_bootstrap.dart†L16-L44】

## Alignment
- **Mobile vision matches platform breadth but strains performance.** Mirroring the full backend surface validates parity, yet serial bootstrap and monolithic routing undermine quick-start experiences expected by enterprise learners.【F:Edulure-Flutter/lib/bootstrap/app_bootstrap.dart†L16-L44】【F:Edulure-Flutter/lib/main.dart†L23-L94】
- **Data governance gaps contradict compliance messaging.** Offline caches, residual logout data, and lack of retention policies conflict with the backend’s emphasis on data retention jobs, creating misalignment between mobile and server governance stories.【F:Edulure-Flutter/lib/services/session_manager.dart†L6-L138】【F:backend-nodejs/src/jobs/dataRetentionJob.js†L56-L166】
- **Feature delivery is uneven across channels.** Backend feature flags support variants and schedules, but the mobile implementation reduces them to booleans, making it impossible to coordinate complex launches promised in Version 1.50 marketing.【F:Edulure-Flutter/lib/core/feature_flags/feature_flag_notifier.dart†L12-L38】【F:backend-nodejs/src/services/FeatureFlagService.js†L1-L160】
- **Recommended focus for the update.** Parallelise bootstrap tasks with resilience hooks, modularise route groups by persona, encrypt or purge Hive caches on logout, provide consent-aware telemetry, and add operator-facing diagnostics for feature flag and push integrations to reach enterprise-grade expectations in 1.50.
